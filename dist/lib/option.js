"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = require("./core");
exports.Some = function (x) { return ({
    kind: "Some",
    value: x,
    then: function (f) {
        return exports.bindOption(core_1.Fun(f)).f(this);
    },
    thenF: function (f) {
        return exports.bindOption(f).f(this);
    }
}); };
exports.None = function () { return ({
    kind: "None",
    then: function (f) {
        return exports.bindOption(core_1.Fun(f)).f(this);
    },
    thenF: function (f) {
        return exports.bindOption(f).f(this);
    }
}); };
exports.mapOption = function (f) {
    return core_1.Fun(function (o) { return o.kind == 'Some' ? exports.Some(f.f(o.value)) : exports.None(); });
};
exports.joinOption = function () {
    return core_1.Fun(function (oo) { return oo.kind === "None" ? exports.None() : oo.value; });
};
exports.bindOption = function (f) {
    return exports.mapOption(f).then(exports.joinOption());
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3B0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vbGliL29wdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLCtCQUE0QjtBQVlmLFFBQUEsSUFBSSxHQUFHLFVBQUksQ0FBSyxJQUFpQixPQUFBLENBQUM7SUFDN0MsSUFBSSxFQUFFLE1BQU07SUFDWixLQUFLLEVBQUUsQ0FBQztJQUNSLElBQUksRUFBRSxVQUE2QixDQUF1QjtRQUN4RCxPQUFPLGtCQUFVLENBQUMsVUFBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFBO0lBQ25DLENBQUM7SUFDRCxLQUFLLEVBQUUsVUFBNkIsQ0FBb0I7UUFDdEQsT0FBTyxrQkFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUM5QixDQUFDO0NBQ0YsQ0FBQyxFQVQ0QyxDQVM1QyxDQUFDO0FBRVUsUUFBQSxJQUFJLEdBQUcsY0FBcUIsT0FBQSxDQUFDO0lBQ3hDLElBQUksRUFBRSxNQUFNO0lBQ1osSUFBSSxFQUFFLFVBQTZCLENBQXVCO1FBQ3hELE9BQU8sa0JBQVUsQ0FBQyxVQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUNELEtBQUssRUFBRSxVQUE2QixDQUFvQjtRQUN0RCxPQUFPLGtCQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFBO0lBQzlCLENBQUM7Q0FDRixDQUFDLEVBUnVDLENBUXZDLENBQUE7QUFFVyxRQUFBLFNBQVMsR0FBRyxVQUFNLENBQVc7SUFDeEMsT0FBTyxVQUFHLENBQUUsVUFBQyxDQUFZLElBQWlCLE9BQUEsQ0FBQyxDQUFDLElBQUksSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLFlBQUksQ0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFJLEVBQUssRUFBcEQsQ0FBb0QsQ0FBQyxDQUFDO0FBQ2xHLENBQUMsQ0FBQTtBQUVZLFFBQUEsVUFBVSxHQUFHO0lBQ3hCLE9BQU8sVUFBRyxDQUFFLFVBQUMsRUFBcUIsSUFBSyxPQUFBLEVBQUUsQ0FBQyxJQUFJLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxZQUFJLEVBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBekMsQ0FBeUMsQ0FBQyxDQUFBO0FBQ25GLENBQUMsQ0FBQTtBQUVZLFFBQUEsVUFBVSxHQUFHLFVBQU8sQ0FBbUI7SUFDbEQsT0FBTyxpQkFBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBVSxFQUFLLENBQUMsQ0FBQTtBQUMzQyxDQUFDLENBQUEifQ==