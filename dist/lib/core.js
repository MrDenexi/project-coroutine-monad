"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Fun = exports.map_Id = exports.id = void 0;
exports.id = function () { return exports.Fun(function (x) { return x; }); };
exports.map_Id = function (f) { return f; };
exports.Fun = function (f) { return ({
    f: f,
    then: function (g) {
        var _this = this;
        return exports.Fun(function (x) { return g.f(_this.f(x)); });
    },
    repeat: function () {
        var _this = this;
        return exports.Fun(function (n) { return repeat(_this, n); });
    },
    repeatUntil: function () {
        var _this = this;
        return exports.Fun(function (p) { return repeatUntil(_this, p); });
    }
}); };
var repeat = function (f, n) { return n <= 1 ? f : f.then(repeat(f, n - 1)); };
var repeatUntil = function (f, predicate) { return (exports.Fun(function (x) { return (predicate.f(x)) ? exports.id().f(x) : f.then(repeatUntil(f, predicate)).f(x); })); };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29yZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUlhLFFBQUEsRUFBRSxHQUFHLGNBQTZCLE9BQUEsV0FBRyxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxFQUFELENBQUMsQ0FBQyxFQUFYLENBQVcsQ0FBQTtBQUM3QyxRQUFBLE1BQU0sR0FBRyxVQUFPLENBQVksSUFBd0IsT0FBQSxDQUFDLEVBQUQsQ0FBQyxDQUFDO0FBU3RELFFBQUEsR0FBRyxHQUFHLFVBQU8sQ0FBYyxJQUFnQixPQUFBLENBQUM7SUFDdkQsQ0FBQyxFQUFFLENBQUM7SUFDSixJQUFJLEVBQUUsVUFBOEIsQ0FBWTtRQUExQyxpQkFFTDtRQURDLE9BQU8sV0FBRyxDQUFPLFVBQUMsQ0FBSSxJQUFLLE9BQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQWQsQ0FBYyxDQUFDLENBQUE7SUFDNUMsQ0FBQztJQUNELE1BQU0sRUFBRTtRQUFBLGlCQUVQO1FBREMsT0FBTyxXQUFHLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxNQUFNLENBQUMsS0FBSSxFQUFFLENBQUMsQ0FBQyxFQUFmLENBQWUsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFDRCxXQUFXLEVBQUU7UUFBQSxpQkFFWjtRQURDLE9BQU8sV0FBRyxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsV0FBVyxDQUFDLEtBQUksRUFBRSxDQUFDLENBQUMsRUFBcEIsQ0FBb0IsQ0FBQyxDQUFBO0lBQ3ZDLENBQUM7Q0FDRixDQUFDLEVBWHNELENBV3RELENBQUE7QUFFRixJQUFNLE1BQU0sR0FBRyxVQUFJLENBQVksRUFBRSxDQUFTLElBQWdCLE9BQUEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQXJDLENBQXFDLENBQUE7QUFFL0YsSUFBTSxXQUFXLEdBQUcsVUFBSSxDQUFZLEVBQUUsU0FBMEIsSUFBZ0IsT0FBQSxDQUM5RSxXQUFHLENBQU0sVUFBQyxDQUFJLElBQUssT0FBQSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBRSxFQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQXhFLENBQXdFLENBQUMsQ0FDN0YsRUFGK0UsQ0FFL0UsQ0FBQSJ9